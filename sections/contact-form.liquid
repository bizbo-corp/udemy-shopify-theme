<div class="flex flex-col items-center my-8">
    {% if section.settings.title != blank %}
        <h1 class="text-2xl font-bold">{{ section.settings.title }}</h1>
    {% endif %}
{% form 'contact' %}

    {% if form.errors %}

        <div class="flex flex-row items-center my-3 p-5 bg-red-100">
          <div class="text-red-500">
            {% render 'icon-failed' %}
          </div>
          <div class="text-sm font-medium ml-3">
              <p>Oh no your message is not sent</p>

          <ul class="px-4 mb-3 ml-7 list-decimal">
              {% for error in form.errors %}
                <li>{{ form.errors.messages[error] }}</li>
              {% endfor %}
            </ul>
          </div>
        </div>


      {% elsif form.posted_successfully? %}
        <div class="flex flex-row items-center my-3 p-5 bg-green-100">
          <div class="text-green-500">
            {% render 'icon-success' %}
          </div>
          <div class="text-sm font-medium ml-3">Message sent</div>
        </div>
      {% endif %}

    <div class="max-w-6xl mx-auto justify-center flex flex-col items-center px-4">
        <div class="flex px-1 mb-3">
            <div class="px-3 md:w-1/2">
            <label class="uppercase text-xs text-gray-500 font-medium mb-1" for="contact_name">Name</label>
            <input class="border-b border-gray-300 w-full py-2" type="text" name="contact[name]" placeholder="Name" id="contact_name">
            </div>
            <div class="px-3 md:w-1/2">
            <label class="uppercase text-xs text-gray-500 font-medium mb-1" for="contact_email">Email</label>
            <input class="border-b border-gray-300 w-full py-2"type="email" name="contact[email]" placeholder="Email" id="contact_email">
            </div>
        </div>
    
        <div class="flex px-1 mb-3 w-full">
            <div class="w-full px-3">
                <label class="uppercase text-xs text-gray-500 font-medium mb-1" for="contact_message">Message</label>
                <textarea class="border-b border-gray-300 w-full py-2" name="contact[body]" placeholder="Message" id="contact_message"></textarea>
            </div>
        </div>

        <div class="flex px-1 mb-3 w-full">
            <div class="w-full px-3">
                <input class="w-full bg-gray-800 hover:bg-gray-900 text-white font-bold py-2 px-4 rounded cursor-pointer" type="submit" value="Submit">
            </div>
        </div>

    {% comment %} <button type="submit" value="Submit">Submit</button> {% endcomment %}
    </div>
{% endform %}

{% schema %}
{
    "name": "Contact Form",
    "settings": [
        {
            "type": "text",
            "id": "title",
            "label": "Title",
        }
    ],
    "presets": [
        {
            "name": "Contact Form"
        }
    ]
}
{% endschema %}